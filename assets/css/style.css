/* =========================================================
   Aoki Design Studio – Landing Page Styles
   Fonts: Noto Sans JP / Poppins
   Palette:
     --primary: #4B77BE, --accent: #F8B7B7
     --bg: #FAFAFA, --text: #333, --muted: #555
   ========================================================= */

/* ===== CSS Variables ===== */
:root{
  /* Cosmic v2 palette: cyan × violet */
  --color-primary: #36E2DC;   /* cyan */
  --color-primary-2: #8B5CF6; /* violet */
  --color-accent: #C084FC;    /* soft violet */
  --color-text: #E6EBF2;
  --color-muted: #9BA7B5;
  --color-bg: #0B0E14;        /* darker base */
  --color-panel: #121823;
  --color-border: #1C2532;
  --color-panel-2: #0D1421;
  --shadow-1: 0 8px 26px rgba(0,0,0,.32);
  --shadow-2: 0 16px 38px rgba(0,0,0,.45);
  --ring: 0 0 0 3px rgba(54,226,220,.32);
  --radius: 14px;
  --radius-sm: 10px;
  --container: 1120px;
  --space-1: 8px;
  --space-2: 12px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 32px;
  --space-6: 48px;
  --space-7: 64px;
}

/* ===== Base ===== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin: 0;
  /* Background is supplied by the global under-hero cosmos layers */
  background: transparent;
  color: var(--color-text);
  font-family: "Poppins", "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Yu Gothic", "Noto Sans JP", "Helvetica Neue", Arial, sans-serif;
  line-height: 1.7;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

img, svg { display: block; max-width: 100%; height: auto; }
a { color: inherit; text-decoration: none; }
button { font: inherit; }

/* ===== Skip link ===== */
.skip-link{
  position: absolute; left: 12px; top: -40px; z-index: 100;
  background: #0b1220; color: #fff; padding: 8px 12px; border-radius: 8px;
  border: 1px solid #1f2a3c; box-shadow: 0 8px 18px rgba(0,0,0,.35);
}
.skip-link:focus{ top: 12px; outline: none; box-shadow: 0 0 0 3px rgba(92,142,229,.4) }

/* ===== Layout ===== */
.container{
  max-width: var(--container);
  padding: 0 var(--space-4);
  margin: 0 auto;
}

.section{ padding: var(--space-7) 0; }

/* Subtle section separators */
.section{ position: relative; }
.section::before{
  content: ""; position: absolute; inset: 0 0 auto; height: 1px;
  background: linear-gradient(90deg, transparent, rgba(92,142,229,.18), transparent);
  opacity: .5;
}

.section__title{
  font-size: clamp(20px, 2.5vw, 28px);
  margin: 0 0 var(--space-5) 0;
  font-weight: 700;
  letter-spacing: .02em;
}
.section__title{ position: relative; padding-bottom: 10px; }
/* Gradient underline for key sections */
.about .section__title::after,
.works .section__title::after,
.process .section__title::after{
  content: ""; position: absolute; left: 0; bottom: 0; height: 3px; width: 120px;
  background: linear-gradient(90deg, rgba(255,255,255,.0), rgba(255,255,255,.8) 18%, rgba(250,211,117,.85) 45%, rgba(139,92,246,.7) 80%, rgba(255,255,255,.0));
  border-radius: 999px; filter: drop-shadow(0 2px 6px rgba(0,0,0,.25));
}
@media (max-width: 640px){ .about .section__title::after, .works .section__title::after, .process .section__title::after{ width: 88px; } }
.section__title-en{
  font-family: Poppins, sans-serif;
  color: var(--color-muted);
  font-weight: 600;
}

/* ===== Buttons ===== */
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 14px 22px;
  border-radius: 999px;
  border: 0;
  background: #202631;
  color: #E7EEFF;
  font-weight: 700;
  letter-spacing: .02em;
  transition: transform .2s ease, box-shadow .2s ease, background .25s ease;
  cursor: pointer;
}
.btn--primary{
  color: #fff;
  background: linear-gradient(135deg, var(--color-primary-2), var(--color-primary));
  box-shadow: 0 10px 22px rgba(75,119,190,.26);
}
.btn--primary:hover{
  transform: translateY(-1px) scale(1.02);
  background: linear-gradient(135deg, #6b9bf0, var(--color-primary));
  box-shadow: 0 14px 26px rgba(75,119,190,.36);
}
.btn--ghost{
  background: #232A36;
  color: #D6E2FF;
}
.btn--ghost:hover{
  transform: translateY(-1px);
  background: #263040;
}

/* ===== Reveal Animations ===== */
.reveal{
  opacity: 0;
  transform: translate3d(0,18px,0) scale(.985) rotate(-.15deg);
  transition: opacity .55s ease, transform .55s ease;
}
.is-visible{
  opacity: 1;
  transform: translate3d(0,0,0) scale(1) rotate(0deg);
}

/* ===== Hero ===== */
.hero{
  position: relative;
  padding: 120px 0 96px;
  overflow: hidden;
  background: linear-gradient(180deg, #0B0E14, #0C1220);
}
.hero__bg{
  position: absolute;
  inset: 0;
  /* New cosmos v2: CSS-only nebula + starfield (no raster) */
  background-image:
    radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
    conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
    radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
    radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
    radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
    radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
    radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  background-size:
    auto,
    140% 140%,
    120% 120%,
    120% 120%,
    120px 120px,
    160px 160px,
    180px 180px;
  background-position:
    center,
    50% 40%,
    0% 0%,
    100% 0%,
    0 0,
    0 0,
    0 0;
  background-repeat: no-repeat;
  background-blend-mode: screen, screen, screen, screen, normal, normal, normal;
  animation: nebulaDrift 32s ease-in-out infinite alternate, starsDrift 120s linear infinite;
}

/* Use smaller portrait image for narrow screens */
@media (max-width: 820px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      linear-gradient(135deg, rgba(92,142,229,.16), rgba(248,183,183,.12)),
      image-set(
        url("../img/hero-bg-768x1024.avif") type("image/avif") 1x,
        url("../img/hero-bg-768x1024.webp") type("image/webp") 1x,
        url("../img/hero-bg-768x1024.png") type("image/png") 1x
      );
  }
}

/* Upscale sources on large displays */
@media (min-width: 1440px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      linear-gradient(135deg, rgba(92,142,229,.16), rgba(248,183,183,.12)),
      image-set(
        url("../img/hero-bg-1920x1080.avif") type("image/avif") 1x,
        url("../img/hero-bg-1920x1080.webp") type("image/webp") 1x,
        url("../img/hero-bg-1920x1080.png") type("image/png") 1x
      );
  }
}

@media (min-width: 2000px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      linear-gradient(135deg, rgba(92,142,229,.16), rgba(248,183,183,.12)),
      image-set(
        url("../img/hero-bg-2560x1440.avif") type("image/avif") 1x,
        url("../img/hero-bg-2560x1440.webp") type("image/webp") 1x,
        url("../img/hero-bg-2560x1440.png") type("image/png") 1x
      );
  }
}
.hero__bg::before,
.hero__bg::after{
  content: "";
  position: absolute;
  filter: blur(70px);
  opacity: .35;
  pointer-events: none;
}
.hero__bg::before{
  width: 620px; height: 480px; border-radius: 60% 40% 50% 50% / 50% 60% 40% 50%;
  background: radial-gradient(60% 70% at 50% 50%, rgba(54,226,220,.22), rgba(54,226,220,0) 70%);
  top: -140px; left: -160px;
  animation: glowFloatA 18s ease-in-out infinite alternate;
}
.hero__bg::after{
  width: 560px; height: 520px; border-radius: 50% 60% 40% 50% / 50% 40% 60% 50%;
  background: radial-gradient(60% 70% at 50% 50%, rgba(139,92,246,.20), rgba(139,92,246,0) 70%);
  bottom: -160px; right: -160px;
  animation: glowFloatB 22s ease-in-out infinite alternate;
}

.hero__container{
  display: grid;
  place-items: center;
  text-align: center;
}

.hero__branding{
  display: grid;
  gap: 14px;
  justify-items: center;
  animation: fadeUp .7s ease .1s both;
}
.hero__logo{
  position: relative;
  display: grid;
  place-items: center;
  width: clamp(92px, 9vw, 132px);
  aspect-ratio: 1 / 1;
  border-radius: 18px;
  overflow: hidden;
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)) padding-box,
    linear-gradient(135deg, rgba(92,142,229,.28), rgba(248,183,183,.18)) border-box;
  border: 1px solid transparent;
  box-shadow: 0 8px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
}
.hero__logo::before{
  content: "";
  position: absolute;
  inset: -25% -25% auto -25%;
  height: 70%;
  background: radial-gradient(60% 90% at 50% 50%, rgba(92,142,229,.25), rgba(92,142,229,0) 70%),
              radial-gradient(40% 70% at 70% 30%, rgba(248,183,183,.18), rgba(248,183,183,0) 70%);
  filter: blur(12px);
  pointer-events: none;
}
.hero__logo img{
  width: 76%;
  height: auto;
  border-radius: 14px; /* ロゴの角をやわらかく */
  opacity: .96;
  filter: drop-shadow(0 4px 16px rgba(0,0,0,.35));
  transition: transform .25s ease, opacity .25s ease;
}
.hero__logo:hover img{ opacity: 1; transform: translateY(-1px) scale(1.01); }
.hero__studio{
  margin: 0;
  color: var(--color-muted);
  font-weight: 600;
  font-size: 14px;
  letter-spacing: .08em;
  text-transform: uppercase;
}
.hero__tagline-en{
  font-family: Poppins, sans-serif;
}

.hero__content{
  margin-top: 10px;
  display: grid;
  gap: 18px;
  animation: fadeUp .8s ease .2s both;
}
.hero__title{
  margin: 0;
  font-size: clamp(24px, 4vw, 40px);
  line-height: 1.3;
  font-weight: 700;
}
.hero__subtitle{
  margin: 0;
  color: var(--color-muted);
  font-size: clamp(14px, 2.2vw, 18px);
}
.hero__cta{
  margin-top: 4px;
  display: flex;
  justify-content: center;
}

@keyframes fadeUp{
  from{ opacity: 0; transform: translateY(16px) }
  to{ opacity: 1; transform: translateY(0) }
}

/* ===== Services ===== */
.services__grid{
  display: grid;
  grid-template-columns: repeat(3,1fr);
  gap: var(--space-5);
}
.service-card{
  background: var(--color-panel);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: var(--space-5);
  box-shadow: var(--shadow-1);
  transition: transform .2s ease, box-shadow .2s ease;
}
.service-card:hover{
  transform: translateY(-4px);
  box-shadow: var(--shadow-2);
}

.service-card__icon{
  width: 40px; height: 40px;
  margin-bottom: var(--space-3);
}
.service-card__title{
  margin: 0 0 6px 0;
  font-size: 18px;
  font-weight: 700;
}
.service-card__desc{
  margin: 0;
  color: var(--color-muted);
  font-size: 14px;
}

/* ===== Works ===== */
.works__grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(260px, 1fr));
  gap: var(--space-5);
  justify-items: center;
}
.work-card{
  display: block;
  color: inherit;
  text-decoration: none;
  background: var(--color-panel);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-1);
  transition: transform .2s ease, box-shadow .2s ease;
  outline: none;
  width: 100%;
  max-width: 360px;
}
.work-card:focus-visible{ box-shadow: var(--ring), var(--shadow-2); }
.work-card:hover{
  transform: translateY(-4px);
  box-shadow: var(--shadow-2);
}
.work-card__thumb{ aspect-ratio: 16/9; overflow: hidden; }
.work-card__thumb picture, .work-card__thumb img{ display:block; width:100%; height:100%; object-fit: cover; }
.work-card__thumb img{ transition: transform .35s ease, opacity .35s ease; }
.work-card:hover .work-card__thumb img{ transform: scale(1.04); opacity: .96; }
.work-card__body{
  padding: 14px 16px 18px;
}
.work-card__title{
  margin: 0 0 6px;
  font-size: 16px;
  font-weight: 700;
}
.work-card__meta{
  margin: 0;
  color: var(--color-muted);
  font-size: 13px;
}
.works__hint{
  margin-top: var(--space-3);
  color: #9BA7B5;
  font-size: 12px;
  text-align: right;
}

/* ===== Process ===== */
.process{ background: linear-gradient(180deg, #121620, #0F1115); }
.process__grid{
  list-style: none;
  margin: 0; padding: 0;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--space-5);
  counter-reset: step;
}

/* Responsive grids */
@media (max-width: 1024px){
  .services__grid{ grid-template-columns: repeat(2, 1fr); }
  .works__grid{ grid-template-columns: repeat(2, minmax(220px,1fr)); }
  .process__grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 640px){
  .services__grid{ grid-template-columns: 1fr; }
  .works__grid{ grid-template-columns: 1fr; }
  .process__grid{ grid-template-columns: 1fr; }
}
.process-step{
  background: var(--color-panel);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
  padding: var(--space-5);
}
.process-step__num{
  width: 32px; height: 32px;
  display: grid; place-items: center;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--color-primary-2), var(--color-primary));
  color: #fff;
  font-weight: 700;
  margin-bottom: 10px;
}
.process-step__title{
  margin: 0 0 6px; font-size: 16px; font-weight: 700;
}
.process-step__desc{
  margin: 0; color: var(--color-muted); font-size: 14px;
}

/* ===== Contact ===== */
.contact__lead{
  color: var(--color-muted);
  margin: 0 0 var(--space-4);
}
.contact__actions{
  display: flex;
  gap: 12px;
}

/* ===== Footer ===== */
.footer{
  background: #0F1115;
  color: #9EA8B8;
  padding: 22px 0;
  border-top: 1px solid #1F2530;
}
.footer__container{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}
.footer__copy{
  margin: 0;
  font-size: 13px;
}
.footer__sns{
  display: inline-flex;
  align-items: center;
  gap: 12px;
}
.footer__sns-link{
  width: 28px; height: 28px;
  display: inline-grid; place-items: center;
  border-radius: 50%;
  transition: background .2s ease, transform .2s ease;
}
.footer__sns-link:hover{
  background: #eee;
  transform: translateY(-1px);
}

/* ===== Modal ===== */
.modal{
  position: fixed;
  inset: 0;
  display: none;
  z-index: 50;
}
.modal[aria-hidden="false"]{
  display: grid;
  place-items: center;
  padding: 24px; /* keep gap from viewport edges */
}
.modal__overlay{
  position: absolute; inset: 0;
  background: rgba(0,0,0,.6);
  backdrop-filter: blur(2px);
}
.modal__content{
  position: relative;
  width: min(640px, calc(100% - 32px));
  margin: 0 auto;
  background: var(--color-panel);
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-2);
  padding: 18px 18px 22px;
  max-height: calc(100vh - 48px);
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  animation: modalIn .22s ease;
}
@keyframes modalIn{
  from{ transform: translateY(8px); opacity: .6 }
  to{ transform: translateY(0); opacity: 1 }
}
.modal__title{
  margin: 2px 0 14px;
  font-size: 20px;
  font-weight: 700;
}
.modal__close{
  position: absolute;
  right: 10px; top: 8px;
  width: 36px; height: 36px;
  border: 0; border-radius: 8px;
  background: #273042;
  color: var(--color-text); font-size: 20px; line-height: 1;
  cursor: pointer;
}
.modal__close:hover{ background: #2B364A }

/* ===== Form ===== */
.contact-form,
.contact-confirm,
.contact-result{
  display: block;
}

.form-field{
  margin-bottom: 14px;
}
.form-field__label{
  display: block;
  font-weight: 700;
  margin-bottom: 6px;
  font-size: 14px;
}
.form-field__input,
.form-field__textarea{
  width: 100%;
  border: 1px solid #273042;
  background: #10151C;
  color: var(--color-text);
  border-radius: 10px;
  padding: 12px 14px;
  font-size: 14px;
  transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
}
.form-field__input:focus,
.form-field__textarea:focus{
  outline: none;
  border-color: var(--color-primary-2);
  box-shadow: var(--ring);
}
.form-field__error{
  margin: 6px 2px 0;
  font-size: 12px;
  color: #b00020;
  min-height: 16px;
}

.form-actions{
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 18px;
}

.confirm-list{
  margin: 0 0 10px; padding: 0;
  display: grid;
  gap: 8px;
}
.confirm-list__row{
  display: grid;
  grid-template-columns: 120px 1fr;
  gap: 10px;
  padding: 10px 12px;
  border: 1px dashed #2B3648;
  border-radius: 10px;
  background: #0F141B;
}
.confirm-list dt{
  color: var(--color-muted);
  font-weight: 600;
  font-size: 13px;
}
.confirm-list dd{
  margin: 0;
  font-size: 14px;
  white-space: pre-wrap;
}
.form-note{
  color: var(--color-muted);
  font-size: 12px;
  margin: 6px 2px 0;
}

.contact-result__status{
  background: #112218;
  color: #8DD7A8;
  border: 1px solid #1E4D33;
  border-radius: 10px;
  padding: 12px 14px;
  margin-bottom: 16px;
}

/* ===== Responsive ===== */
@media (max-width: 1024px){
  .services__grid,
  .works__grid{ grid-template-columns: repeat(2, 1fr); }
  .process__grid{ grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 768px){
  .hero{ padding: 96px 0 72px; }
  .services__grid{ grid-template-columns: 1fr; }
  .works__grid{
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 82%;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    padding-bottom: 8px;
  }
  .work-card{ scroll-snap-align: start; }
  .works__grid::-webkit-scrollbar{ display: none; }
  .works__grid{ scrollbar-width: none; }
  .process__grid{ grid-template-columns: 1fr; }
  .footer__container{ flex-direction: column; align-items: flex-start; }
  /* Tighter modal on small screens */
  .modal[aria-hidden="false"]{ padding: 16px; }
  .modal__content{
    width: calc(100% - 16px);
    max-height: calc(100vh - 32px);
    padding: 16px;
  }
}

@media (max-width: 420px){
  .works__grid{ grid-auto-columns: 88%; }
}

/* =========================================================
   Theme upgrade — palette, motion, and details
   (Appended overrides to minimize diffs)
   ========================================================= */

/* Variables override (cascade) */
:root{
  --color-primary: #36E2DC;
  --color-primary-2: #23C8C2;
  --color-accent: #8B5CF6;
  --color-accent-2: #A78BFA;
  --color-bg: #0D1117;
  --color-panel: #0E121B;
  --color-panel-2: #101622;
  --color-border: #161D29;
  --ring: 0 0 0 3px rgba(54,226,220,.32);
}

/* Buttons: gradient flow on hover */
.btn--primary{
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, var(--color-accent), var(--color-primary));
  box-shadow: 0 10px 22px rgba(54,226,220,.22);
}
.btn--primary:hover{ box-shadow: 0 14px 26px rgba(54,226,220,.32); }
.btn--primary::after{
  content: ""; position: absolute; inset: 0; pointer-events: none;
  background: linear-gradient(120deg, transparent 25%, rgba(255,255,255,.18) 50%, transparent 75%);
  transform: translateX(-120%) skewX(-18deg);
  transition: transform .6s ease;
}
.btn--primary:hover::after{ transform: translateX(120%) skewX(-18deg); }

/* Hero: background lines + particles + refined tones */
.hero{ background: linear-gradient(180deg, #0D1117, #101622); }
.hero__bg{
  --lines-x: 0px; --particles-y: 0px;
  background-image:
    radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
    linear-gradient(135deg, rgba(54,226,220,.16), rgba(139,92,246,.12)),
    repeating-linear-gradient(110deg, rgba(54,226,220,.08) 0 1px, transparent 1px 6px),
    radial-gradient(circle at 20px 20px, rgba(139,92,246,.13) 1.2px, transparent 1.2px),
    inherit;
  background-position: center, center, var(--lines-x) 0, 0 var(--particles-y), center;
  background-size: auto, auto, 320px 320px, 40px 40px, cover;
  background-repeat: no-repeat, no-repeat, repeat, repeat, no-repeat;
  background-blend-mode: screen, soft-light, screen, lighten, normal;
  animation: heroFlow 26s linear infinite;
}
.hero__bg::before{ background: rgba(54,226,220,.18); }
.hero__bg::after{ background: rgba(139,92,246,.14); }
@keyframes heroFlow{ from{ --lines-x: 0px; --particles-y: 0px; } to{ --lines-x: 320px; --particles-y: 40px; } }

/* Responsive hero sources (override with added FX layers) */
@media (max-width: 820px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
      radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
      radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
      radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
      radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
      radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  }
}
@media (min-width: 1440px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
      radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
      radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
      radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
      radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
      radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  }
}
@media (min-width: 2000px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
      radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
      radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
      radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
      radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
      radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  }
}

/* Hero: intro scale on logo + catch copy */
.hero__logo{ animation: logoIntro 1.2s cubic-bezier(.2,.7,.2,1) .05s both; }
@keyframes logoIntro{ from{ transform: scale(.96); opacity: .85 } to{ transform: scale(1); opacity: 1 } }
.hero__studio{ letter-spacing: .16em; font-family: Poppins, sans-serif; }
.hero__catch{ margin: 0; color: #C9D3E3; font-size: clamp(14px, 2.2vw, 18px); }
.hero__catch-en{ margin: -6px 0 0 0; color: var(--color-muted); font-family: Poppins, sans-serif; letter-spacing: .02em; font-size: clamp(12px, 2vw, 15px); }

/* Sections: subtle separators and tone shifts */
.section::before{ background: linear-gradient(90deg, transparent, rgba(54,226,220,.22), rgba(139,92,246,.18), transparent); }
.section::after{
  content: ""; position: absolute; left: 0; right: 0; top: -10px; height: 18px;
  background: linear-gradient(90deg, transparent, rgba(54,226,220,.25), transparent);
  transform: skewY(-1.8deg);
  filter: blur(2px); opacity: .35; pointer-events: none;
}
.services{ background: linear-gradient(180deg, rgba(14,18,27,.88), rgba(14,18,27,.88)); }
.works{ background: linear-gradient(180deg, rgba(15,20,30,.90), rgba(15,20,30,.90)); }
.process{ background: linear-gradient(180deg, rgba(15,20,30,.88), rgba(16,22,34,.88)); }
.contact{ background: linear-gradient(180deg, rgba(14,18,27,.86), rgba(14,18,27,.86)); }

/* Works: overlay reveal */
.work-card{ position: relative; }
.work-card__thumb::after{
  content: ""; position: absolute; inset: 0; pointer-events: none;
  background: radial-gradient(60% 40% at 50% 60%, rgba(54,226,220,.0), rgba(54,226,220,.18) 70%, transparent 75%);
  opacity: 0; transition: opacity .35s ease;
}
.work-card:hover .work-card__thumb::after{ opacity: 1; }
.work-card__body{
  position: absolute; left: 0; right: 0; bottom: 0; top: auto;
  display: grid; gap: 4px; text-align: left;
  padding: 12px 14px 14px;
  background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.55) 60%);
  opacity: 0; transform: translateY(8px);
  transition: opacity .35s ease, transform .35s ease;
}
.work-card:hover .work-card__body,
.work-card:focus-visible .work-card__body{ opacity: 1; transform: translateY(0); }
/* Improve legibility of texts over image */
.work-card__title{ color: #FFF; text-shadow: 0 1px 2px rgba(0,0,0,.4); }
.work-card__meta{ color: #D8E1F0; text-shadow: 0 1px 2px rgba(0,0,0,.35); }

/* Process: timeline */
.process__grid{ position: relative; }
.process__grid::before{
  content: ""; position: absolute; left: 5%; right: 5%; top: 46px; height: 2px;
  background: linear-gradient(90deg, rgba(139,92,246,.35), rgba(54,226,220,.4)); opacity: .6;
}
.process-step{ position: relative; }
.process-step::before{
  content: ""; position: absolute; top: 40px; left: 50%; transform: translateX(-50%);
  width: 14px; height: 14px; border-radius: 50%;
  background: linear-gradient(135deg, var(--color-accent), var(--color-primary));
  box-shadow: 0 0 0 3px rgba(54,226,220,.18);
}
.process-step__num{ background: linear-gradient(135deg, var(--color-accent), var(--color-primary)); }

@media (max-width: 768px){
  .process__grid::before{ left: 30px; right: auto; width: 2px; top: 5%; bottom: 5%; height: auto; background: linear-gradient(180deg, rgba(139,92,246,.35), rgba(54,226,220,.4)); }
  .process-step::before{ left: 30px; transform: none; top: 38px; }
}

/* Footer: luminous 1px line */
.footer{ position: relative; background: #0D1117; }
.footer::before{ content: ""; position: absolute; left: 0; right: 0; top: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(54,226,220,.3), transparent); }
.footer__sns-link:hover{ background: rgba(54,226,220,.12); }

/* =========================================================
   Hero – Light & Shadow breathing motion
   ========================================================= */
.hero__bg {
  animation: heroFlow 26s linear infinite, heroPulse 18s ease-in-out infinite;
}

/* Subtle “breathing” motion between light and shadow */
@keyframes heroPulse {
  0% {
    filter: brightness(1) contrast(1.06) saturate(1);
  }
  25% {
    filter: brightness(1.08) contrast(1.08) saturate(1.03);
  }
  50% {
    filter: brightness(1.14) contrast(1.12) saturate(1.06);
  }
  75% {
    filter: brightness(1.08) contrast(1.08) saturate(1.03);
  }
  100% {
    filter: brightness(1) contrast(1.06) saturate(1);
  }
}

/* =========================================================
   Hero – Smooth flow refinement (override keyframes)
   ========================================================= */
.hero__bg{ will-change: filter, background-position; }
@keyframes heroFlow{
  0%{
    background-position: center, center, 0 0, 0 0, center;
  }
  100%{
    background-position: center, center, -320px 0, 0 -40px, center;
  }
}

/* =========================================================
   Hero – Soft floating particles (CSS-only)
   ~14 translucent dots drifting at varied paths
   ========================================================= */
.hero::before,
.hero::after{
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-repeat: no-repeat;
  mix-blend-mode: screen;
  opacity: .35;
}

/* Turquoise group (7 dots) — diagonal drift */
.hero::before{
  background-image:
    radial-gradient(circle, rgba(54,226,220,.22) 0 2px, transparent 2.1px),
    radial-gradient(circle, rgba(54,226,220,.18) 0 1.8px, transparent 1.9px),
    radial-gradient(circle, rgba(54,226,220,.20) 0 2.2px, transparent 2.3px),
    radial-gradient(circle, rgba(54,226,220,.16) 0 1.6px, transparent 1.7px),
    radial-gradient(circle, rgba(54,226,220,.24) 0 2.4px, transparent 2.5px),
    radial-gradient(circle, rgba(54,226,220,.18) 0 1.9px, transparent 2px),
    radial-gradient(circle, rgba(54,226,220,.20) 0 2px, transparent 2.1px);
  background-position:
    8% 18%, 22% 68%, 40% 28%, 58% 62%, 72% 22%, 85% 52%, 30% 88%;
  animation: particlesA 48s ease-in-out infinite alternate;
}

/* Violet group (7 dots) — vertical/diagonal drift */
.hero::after{
  background-image:
    radial-gradient(circle, rgba(139,92,246,.18) 0 2.2px, transparent 2.3px),
    radial-gradient(circle, rgba(139,92,246,.16) 0 1.7px, transparent 1.8px),
    radial-gradient(circle, rgba(139,92,246,.20) 0 2.1px, transparent 2.2px),
    radial-gradient(circle, rgba(139,92,246,.22) 0 2.3px, transparent 2.4px),
    radial-gradient(circle, rgba(139,92,246,.18) 0 1.9px, transparent 2px),
    radial-gradient(circle, rgba(139,92,246,.20) 0 2px, transparent 2.1px),
    radial-gradient(circle, rgba(139,92,246,.16) 0 1.6px, transparent 1.7px);
  background-position:
    15% 36%, 28% 14%, 46% 76%, 62% 18%, 78% 64%, 52% 48%, 90% 30%;
  animation: particlesB 62s ease-in-out infinite alternate;
}

@keyframes particlesA{
  from{ transform: translate3d(-16px, -6px, 0); }
  to  { transform: translate3d(28px, 22px, 0); }
}
@keyframes particlesB{
  from{ transform: translate3d(12px, -10px, 0); }
  to  { transform: translate3d(-20px, 26px, 0); }
}

/* =========================================================
   Hero – Night sky starfield (override diagonal lines)
   ========================================================= */
/* Lift content above any animated overlays */
.hero__container{ position: relative; z-index: 2; }

/* Replace diagonal lines with two tiled star layers */
.hero__bg{
  background-image:
    radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
    conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
    radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
    radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
    radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
    radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
    radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  background-position: center, 50% 40%, 0% 0%, 100% 0%, 0 0, 0 0, 0 0;
  background-size: auto, 140% 140%, 120% 120%, 120% 120%, 120px 120px, 160px 160px, 180px 180px;
  background-repeat: no-repeat;
  background-blend-mode: screen, screen, screen, screen, normal, normal, normal;
}

@media (max-width: 820px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
      radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
      radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
      radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
      radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
      radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  }
}
@media (min-width: 1440px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
      radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
      radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
      radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
      radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
      radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  }
}
@media (min-width: 2000px){
  .hero__bg{
    background-image:
      radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.035), rgba(255,255,255,0) 60%),
      conic-gradient(from 210deg at 60% 30%, rgba(54,226,220,.08), rgba(139,92,246,.10), rgba(0,0,0,0) 65%),
      radial-gradient(120% 85% at 12% 8%, rgba(54,226,220,.16), rgba(0,0,0,0) 58%),
      radial-gradient(120% 85% at 88% 14%, rgba(139,92,246,.14), rgba(0,0,0,0) 55%),
      radial-gradient(circle at 20px 20px, rgba(255,255,255,.42) 1.2px, transparent 1.2px),
      radial-gradient(circle at 90px 140px, rgba(255,255,255,.28) 1px, transparent 1px),
      radial-gradient(circle at 210px 40px, rgba(255,255,255,.18) 1px, transparent 1px);
  }
}

/* Update heroFlow (now minimal, glows stay steady; motion comes from twinkle/drift) */
@keyframes heroFlow{
  0%{ background-position: center, center, center; }
  100%{ background-position: center, center, center; }
}

/* =========================================================
   Hero – Shooting star effect (CSS)
   ========================================================= */
.shooting-star{
  position: absolute; top: 0; left: 0;
  width: var(--len, 140px); height: 2px;
  background: linear-gradient(90deg, rgba(255,255,255,.95), rgba(54,226,220,.75) 35%, rgba(139,92,246,0) 100%);
  border-radius: 2px;
  filter: drop-shadow(0 0 6px rgba(54,226,220,.6)) drop-shadow(0 0 10px rgba(139,92,246,.35));
  transform: rotate(var(--angle, -18deg));
  opacity: 0;
  animation: shooting var(--dur, 1.4s) ease-out forwards;
  pointer-events: none;
  z-index: 1;
}

@keyframes shooting{
  0%{ opacity: 0; transform: translate3d(0,0,0) rotate(var(--angle, -18deg)); }
  10%{ opacity: .95; }
  100%{ opacity: 0; transform: translate3d(var(--dx, 640px), var(--dy, 180px), 0) rotate(var(--angle, -18deg)); }
}

/* =========================================================
   Hero – Random starfield overlay (JS-driven)
   ========================================================= */
.starfield{
  position: absolute; inset: 0; pointer-events: none; mix-blend-mode: screen;
  z-index: 1;
}
.star{
  position: absolute;
  width: var(--size, 1.8px); height: var(--size, 1.8px);
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,255,.9) 0 55%, rgba(255,255,255,0) 60%);
  opacity: var(--o, .7);
  filter: drop-shadow(0 0 4px rgba(255,255,255,.25));
  animation:
    twinkle var(--tw, 2800ms) ease-in-out var(--td, 0ms) infinite alternate,
    starDrift var(--dv, 42000ms) linear 0ms infinite;
}
@keyframes twinkle{
  from{ opacity: var(--o, .7); }
  to  { opacity: var(--o2, .3); }
}
@keyframes starDrift{
  from{ transform: translate3d(0,0,0); }
  to  { transform: translate3d(var(--dx, -12px), var(--dy, -18px), 0); }
}

/* =========================================================
   Hero – Cosmic Typography (night-sky themed)
   ========================================================= */
.hero__title{
  line-height: 1.22;
  letter-spacing: .01em;
  text-wrap: balance;
  /* layered gradients clipped to text: soft white + cosmic tint */
  background-image:
    linear-gradient(180deg, #EEF4FF 0%, #E8F1FF 42%, #DDE8FF 65%, #D3DDEF 100%),
    linear-gradient(135deg, rgba(54,226,220,.35), rgba(139,92,246,.35));
  background-size: 200% 200%, 200% 200%;
  background-position: 50% 0%, 0% 50%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 8px 28px rgba(54,226,220,.12), 0 2px 10px rgba(0,0,0,.35);
  animation: titleShine 9s ease-in-out infinite;
}

@keyframes titleShine{
  0%, 100%{ background-position: 50% 0%, 0% 50%; }
  50%{ background-position: 50% 100%, 100% 50%; }
}

.hero__studio{
  letter-spacing: .22em; opacity: .92; text-transform: uppercase;
}
.hero__studio::before{
  content: ""; display: inline-block; width: 6px; height: 6px; margin: 0 8px -1px 0; border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,255,.95) 0 40%, rgba(54,226,220,.6) 45%, rgba(54,226,220,0) 70%);
  box-shadow: 0 0 10px rgba(54,226,220,.4);
  animation: starBlink 2.8s ease-in-out infinite;
}
.hero__studio::after{
  content: ""; display: block; width: 56%; height: 1px; margin: 8px auto 0;
  background: linear-gradient(90deg, transparent, rgba(54,226,220,.45), rgba(139,92,246,.45), transparent);
  filter: blur(.2px); opacity: .65;
}

.hero__catch-en{ color: #CFE1FF; text-shadow: 0 0 16px rgba(139,92,246,.12); }

@keyframes starBlink{
  0%, 100%{ transform: scale(1); opacity: .8; }
  50%{ transform: scale(1.25); opacity: 1; }
}

@media (prefers-reduced-motion: reduce){
  .hero__title{ animation: none; }
  .hero__studio::before{ animation: none; }
}

/* =========================================================
   Space Theme — Sections below Hero
   Subtle star-dust, aurora tints, and card glints
   ========================================================= */

/* Generic helpers */
@keyframes auroraDrift{
  0%{ background-position: 0% 0%, 100% 0%, 0 0, 50% 50%; }
  100%{ background-position: 100% 0%, 0% 0%, -40px -24px, 60% 60%; }
}
@keyframes timelineFlow{
  0%{ background-position: 0% 50%; }
  100%{ background-position: 200% 50%; }
}

/* Section overlays: star-dust + aurora (per section tone) */
.services::after,
.works::after,
.process::after,
.contact::after{
  content: ""; position: absolute; inset: 0; pointer-events: none; z-index: 0;
  mix-blend-mode: screen; opacity: .45;
}

/* Services — slightly明るいターコイズ寄り */
.services::after{
  background-image:
    linear-gradient(90deg, transparent, rgba(54,226,220,.20), transparent),               /* luminous divider */
    radial-gradient(60% 50% at 20% 0%, rgba(54,226,220,.08), transparent 60%),            /* aurora A */
    radial-gradient(50% 40% at 70% 10%, rgba(139,92,246,.06), transparent 62%),           /* aurora B */
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.5) 0 1px, transparent 1.1px),    /* stars near */
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.35) 0 1px, transparent 1.1px);   /* stars far */
  background-size:
    100% 18px,
    120% 100%, 120% 100%,
    140px 140px, 220px 220px;
  background-repeat: no-repeat, no-repeat, no-repeat, repeat, repeat;
  background-position: 0 -10px, 0 0, 0 0, 0 0, 40px 20px;
  transform: translateZ(0); /* promote */
  animation: auroraDrift 38s ease-in-out infinite;
}

/* Works — バイオレット寄りで少し深め */
.works::after{
  background-image:
    linear-gradient(90deg, transparent, rgba(139,92,246,.20), transparent),
    radial-gradient(55% 45% at 80% 0%, rgba(139,92,246,.08), transparent 60%),
    radial-gradient(45% 40% at 20% 8%, rgba(54,226,220,.06), transparent 62%),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.48) 0 1px, transparent 1.1px),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.32) 0 1px, transparent 1.1px);
  background-size: 100% 18px, 120% 100%, 120% 100%, 150px 150px, 230px 230px;
  background-repeat: no-repeat, no-repeat, no-repeat, repeat, repeat;
  background-position: 0 -10px, 0 0, 0 0, 20px 0, 60px 40px;
  opacity: .42; animation: auroraDrift 40s ease-in-out infinite;
}

/* Process — 群青寄り。タイムラインの光路と整合 */
.process::after{
  background-image:
    linear-gradient(90deg, transparent, rgba(54,226,220,.18), transparent),
    radial-gradient(60% 50% at 25% 0%, rgba(54,226,220,.07), transparent 60%),
    radial-gradient(50% 45% at 75% 12%, rgba(139,92,246,.06), transparent 62%),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.46) 0 1px, transparent 1.1px),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.30) 0 1px, transparent 1.1px);
  background-size: 100% 18px, 120% 100%, 120% 100%, 150px 150px, 230px 230px;
  background-repeat: no-repeat, no-repeat, no-repeat, repeat, repeat;
  background-position: 0 -10px, 0 0, 0 0, 10px 10px, 50px 30px;
  opacity: .40; animation: auroraDrift 42s ease-in-out infinite;
}

/* Contact — 柔らかいオーロラで優しい印象 */
.contact::after{
  background-image:
    linear-gradient(90deg, transparent, rgba(54,226,220,.18), transparent),
    radial-gradient(60% 40% at 50% -10%, rgba(139,92,246,.08), transparent 60%),
    radial-gradient(60% 50% at -10% 30%, rgba(54,226,220,.06), transparent 60%),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.44) 0 1px, transparent 1.1px),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.28) 0 1px, transparent 1.1px);
  background-size: 100% 18px, 120% 100%, 120% 100%, 150px 150px, 240px 240px;
  background-repeat: no-repeat, no-repeat, no-repeat, repeat, repeat;
  background-position: 0 -10px, 0 0, 0 0, 0 20px, 40px 40px;
  opacity: .38; animation: auroraDrift 44s ease-in-out infinite;
}

/* Card enhancements — cosmic border + glint */
.service-card{
  background:
    linear-gradient(#0E121B, #0E121B) padding-box,
    linear-gradient(135deg, rgba(54,226,220,.35), rgba(139,92,246,.35)) border-box;
  border: 1px solid transparent;
  position: relative; overflow: hidden;
}
.service-card::after{
  content: ""; position: absolute; top: -60%; left: -20%; width: 28px; height: 220%;
  background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.32) 50%, rgba(255,255,255,0));
  transform: rotate(22deg) translateX(-40%);
  opacity: 0; transition: transform .8s ease, opacity .6s ease; mix-blend-mode: screen;
}
.service-card:hover::after{ transform: rotate(22deg) translateX(260%); opacity: .9; }

/* Works glint */
.work-card{ position: relative; }
.work-card::before{
  content: ""; position: absolute; top: -30%; left: -25%; width: 18px; height: 180%;
  background: linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,.22) 50%, rgba(255,255,255,0));
  transform: rotate(20deg) translateX(-30%);
  opacity: 0; transition: transform .9s ease, opacity .6s ease; mix-blend-mode: screen;
}
.work-card:hover::before{ transform: rotate(20deg) translateX(220%); opacity: .85; }

/* Process timeline slight flow */
.process__grid::before{
  background: linear-gradient(90deg, rgba(139,92,246,.25), rgba(54,226,220,.35), rgba(139,92,246,.25));
  background-size: 200% 100%; animation: timelineFlow 14s linear infinite;
}
.process-step__num{
  box-shadow: inset 0 0 10px rgba(255,255,255,.12), 0 0 16px rgba(54,226,220,.18);
}

/* Mobile tuning */
@media (max-width: 768px){
  .services::after, .works::after, .process::after, .contact::after{ opacity: .3; }
  .service-card::after, .work-card::before{ transition-duration: .6s; }
}

/* Reduced motion: keep still visuals */
@media (prefers-reduced-motion: reduce){
  .services::after, .works::after, .process::after, .contact::after{ animation: none; }
  .process__grid::before{ animation: none; }
  .service-card::after, .work-card::before{ display: none; }
}

/* =========================================================
   Space Theme — Global body background (subtle starfield)
   ========================================================= */
body{
  /* keep base night sky but add flowing aurora ribbons */
  background-color: var(--color-bg);
  background-image:
    radial-gradient(120% 100% at 65% -10%, rgba(139,92,246,.09), rgba(139,92,246,0) 62%),  /* aurora V */
    radial-gradient(120% 100% at -10% 10%, rgba(54,226,220,.08), rgba(54,226,220,0) 64%),  /* aurora T */
    conic-gradient(from 210deg at 30% 80%, rgba(54,226,220,.07), rgba(139,92,246,.05) 40%, rgba(54,226,220,.07) 62%, transparent 78%), /* ribbon 1 */
    conic-gradient(from 30deg at 85% 20%, rgba(139,92,246,.06), rgba(54,226,220,.05) 45%, rgba(139,92,246,.06) 70%, transparent 80%),  /* ribbon 2 */
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.26) 0 1px, transparent 1.1px),     /* stars near */
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.16) 0 1px, transparent 1.1px);     /* stars far */
  background-size:
    120% 100%, 120% 100%,
    120% 120%, 120% 120%,
    240px 240px, 360px 360px;
  background-repeat:
    no-repeat, no-repeat,
    no-repeat, no-repeat,
    repeat, repeat;
  background-position:
    20% -4%, 85% 6%,
    0% 50%, 100% 30%,
    0 0, 40px 20px;
  background-blend-mode: screen, screen, screen, screen, normal, normal;
  animation: bodyAurora 95s ease-in-out infinite alternate;
  will-change: background-position;
}

@keyframes bodyAurora{
  0%{
    background-position: 20% -4%, 85% 6%, 0% 50%, 100% 30%, 0 0, 40px 20px;
  }
  100%{
    background-position: 80% -10%, 10% 4%, 100% 60%, 0% 40%, -120px -60px, -60px -20px;
  }
}

/* Lighter load on mobile: larger tiles (見た目の密度↓) */
@media (max-width: 768px){
  body{ background-size: 140% 100%, 140% 100%, 130% 120%, 130% 120%, 300px 300px, 440px 440px; }
}

@media (prefers-reduced-motion: reduce){
  body{ animation: none; }
}

/* =========================================================
   Service Modal — cosmic style
   ========================================================= */
.modal--wide{ width: min(880px, calc(100% - 32px)); }
.svc-modal .modal__content{
  background:
    linear-gradient(#0E121B, #0E121B) padding-box,
    linear-gradient(135deg, rgba(54,226,220,.28), rgba(139,92,246,.28)) border-box;
  border: 1px solid transparent;
  position: relative;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}
.svc-modal .modal__content::before{
  content: ""; position: absolute; inset: 0; pointer-events: none; z-index: 0;
  background-image:
    radial-gradient(60% 50% at 20% 0%, rgba(54,226,220,.08), transparent 60%),
    radial-gradient(50% 40% at 80% 10%, rgba(139,92,246,.07), transparent 62%),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.4) 0 1px, transparent 1.1px),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.24) 0 1px, transparent 1.1px);
  background-size: 120% 100%, 120% 100%, 160px 160px, 240px 240px;
  background-repeat: no-repeat, no-repeat, repeat, repeat;
  background-position: 0 0, 0 0, 0 0, 40px 20px;
  opacity: .45; animation: auroraDrift 42s ease-in-out infinite;
}
.svc-wrap{ position: relative; z-index: 1; }
.svc-head{ margin: 4px 4px 14px; }
.svc-title{ margin: 0 0 6px; font-size: 22px; font-weight: 800; letter-spacing: .01em; }
.svc-sub{ margin: 0; color: var(--color-muted); }
.svc-sec{ margin-top: 16px; }
.svc-sec__title{ margin: 0 0 8px; font-size: 16px; font-weight: 700; }
.svc-steps{ list-style: none; margin: 0; padding: 0; display: grid; gap: 10px; }
.svc-step{ display: grid; grid-template-columns: 36px 1fr; gap: 10px; align-items: start; padding: 10px 12px; border-radius: 12px; background: #0F141B; border: 1px solid #1E2736; }
.svc-step__num{ width: 28px; height: 28px; border-radius: 50%; display: grid; place-items: center; font-weight: 700; font-size: 13px; color: #fff; background: linear-gradient(135deg, var(--color-accent), var(--color-primary)); box-shadow: 0 0 0 3px rgba(54,226,220,.14); }
.svc-step__title{ margin: 0 0 2px; font-weight: 700; font-size: 15px; }
.svc-step__desc{ margin: 0; color: var(--color-muted); font-size: 14px; }
.svc-list{ margin: 6px 0 0; padding: 0 0 0 18px; }
.svc-li{ margin: 0 0 4px; }
.svc-note{ color: var(--color-muted); font-size: 12px; margin-top: 6px; }
.svc-actions{ justify-content: flex-start; margin-top: 16px; }

@media (max-width: 640px){
  .modal--wide{ width: calc(100% - 16px); }
  .svc-step{ grid-template-columns: 28px 1fr; }
}

/* =========================================================
   Contact Modal — cleanup + cosmic style
   ========================================================= */
.contact-form[hidden], .contact-confirm[hidden], .contact-result[hidden]{ display: none !important; }
#contact-modal .modal__content{
  background:
    linear-gradient(#0E121B, #0E121B) padding-box,
    linear-gradient(135deg, rgba(54,226,220,.28), rgba(139,92,246,.28)) border-box;
  border: 1px solid transparent;
  position: relative;
  overflow: auto;
}
#contact-modal .modal__content::before{
  content: ""; position: absolute; inset: 0; pointer-events: none; z-index: 0;
  background-image:
    radial-gradient(60% 50% at 25% 0%, rgba(54,226,220,.08), transparent 60%),
    radial-gradient(50% 40% at 75% 10%, rgba(139,92,246,.07), transparent 62%),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.4) 0 1px, transparent 1.1px),
    radial-gradient(circle at 1px 1px, rgba(255,255,255,.24) 0 1px, transparent 1.1px);
  background-size: 120% 100%, 120% 100%, 160px 160px, 240px 240px;
  background-repeat: no-repeat, no-repeat, repeat, repeat;
  background-position: 0 0, 0 0, 0 0, 40px 20px;
  opacity: .42; animation: auroraDrift 40s ease-in-out infinite;
}
#contact-modal .modal__title{ position: relative; z-index: 1; }
#contact-modal .contact-form,
#contact-modal .contact-confirm,
#contact-modal .contact-result{ position: relative; z-index: 1; }
.contact-confirm__text{ color: var(--color-muted); margin: 0 0 8px; }
.confirm-list__row{ background: #0F141B; border-color: #1E2736; }
.form-actions{ gap: 12px; }

/* Global focus-visible ring for accessibility */
:where(a, button, [role="button"], input, textarea, select):focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px rgba(54,226,220,.32), 0 0 0 1px rgba(139,92,246,.28) inset;
}
/* =========================================================
   Cosmos v2 ? Nebula & Stars Animations
   ========================================================= */
@keyframes nebulaDrift{
  0%   { background-position: center, 48% 36%, 0% 0%, 100% 0%, 0 0, 0 0, 0 0; filter: brightness(1) contrast(1.05); }
  50%  { background-position: center, 52% 42%, -3% -2%, 103% 2%, 0 0, 0 0, 0 0; filter: brightness(1.06) contrast(1.08); }
  100% { background-position: center, 50% 40%, -6% -4%, 106% 4%, 0 0, 0 0, 0 0; filter: brightness(1) contrast(1.05); }
}
@keyframes starsDrift{
  from { background-position: center, 50% 40%, 0% 0%, 100% 0%, 0 0, 0 0, 0 0; }
  to   { background-position: center, 50% 40%, 0% 0%, 100% 0%, -180px -120px, -220px -160px, -260px -200px; }
}
@keyframes glowFloatA{ from{ transform: translate3d(0,0,0) } to{ transform: translate3d(26px, 18px, 0) } }
@keyframes glowFloatB{ from{ transform: translate3d(0,0,0) } to{ transform: translate3d(-22px, -16px, 0) } }

/* =========================================================
   Dawn Theme Overrides (黎明)
   - Warm, calm, soft light
   - No stars/particles
   - Upward light flow from horizon
   ========================================================= */

/* Palette override */
:root{
  --color-bg: #0E1017;
  --color-gradient-start: #362C74; /* violet */
  --color-gradient-end: #FF9E5E;   /* dawn orange */
  --color-accent: #FAD375;         /* soft gold */
}

/* Global tone */
body{ background: var(--color-bg); color: #E9EEF6; }
.section::before{ background: linear-gradient(90deg, transparent, rgba(250,211,117,.24), transparent); opacity: .35; }

/* Remove cosmic overlays */
.hero::before, .hero::after,
.services::after, .works::after, .process::after, .contact::after,
.shooting-star, .starfield, .star{
  display: none !important;
  content: none !important;
}

/* Hero: night-to-dawn vertical gradient + horizon glow + upward sweep */
.hero{
  background: linear-gradient(to top, #0E1017 0%, #151B30 28%, var(--color-gradient-start) 58%, var(--color-gradient-end) 88%, #FBE1B2 100%);
}
.hero__bg{
  position: absolute; inset: 0; overflow: hidden;
  background-image:
    radial-gradient(65% 40% at 50% 85%, rgba(255,199,143,.28), rgba(255,199,143,0) 60%), /* horizon glow */
    linear-gradient(to top, rgba(250,211,117,0) 0%, rgba(250,211,117,.22) 40%, rgba(250,211,117,0) 80%);  /* upward sweep */
  background-size: 100% 100%, 100% 160%;
  background-position: 50% 100%, 50% 100%;
  background-repeat: no-repeat;
  animation: dawnSweep 28s ease-in-out infinite;
  mix-blend-mode: screen;
}
@keyframes dawnSweep{
  0%   { background-position: 50% 100%, 50% 110%; filter: brightness(1) contrast(1.02); }
  50%  { background-position: 50% 80%,  50% 40%;  filter: brightness(1.06) contrast(1.04); }
  100% { background-position: 50% 100%, 50% 110%; filter: brightness(1) contrast(1.02); }
}

/* Hero text: softer, warm highlight */
.hero__title{
  background-image:
    linear-gradient(180deg, #F7FAFF 0%, #ECF3FF 42%, #E8F0FD 100%),
    linear-gradient(135deg, rgba(250,211,117,.55), rgba(255,158,94,.45));
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 8px 28px rgba(255,158,94,.12), 0 2px 10px rgba(0,0,0,.3);
  animation: titleDawn 9s ease-in-out infinite;
}
@keyframes titleDawn{ 0%,100%{ background-position: 50% 0%, 0% 50% } 50%{ background-position: 50% 100%, 100% 50% } }
.hero__subtitle{ color: #D8E1F0; }
.hero__catch-en{ color: #EFD9A5; letter-spacing: .02em; }

/* Buttons: ease-in-out */
.btn{ transition: transform .25s ease-in-out, box-shadow .25s ease-in-out, background .3s ease-in-out; }
.btn--primary{ background: linear-gradient(135deg, var(--color-accent), var(--color-gradient-end)); box-shadow: 0 10px 24px rgba(255,158,94,.22); }
.btn--primary:hover{ box-shadow: 0 14px 28px rgba(255,158,94,.3); transform: translateY(-1px) scale(1.02); }

/* About: soft morning sky */
.about{
  background:
    radial-gradient(120% 100% at 50% 0%, rgba(255,245,231,.12), rgba(255,245,231,0) 60%),
    linear-gradient(180deg, rgba(254,246,236,.06), rgba(254,246,236,.02));
}
.about__lead{ margin: 0 0 16px; color: #E9ECF6; }
.about p{ max-width: 700px; margin: 0 auto; line-height: 1.8; }
.skills{ list-style: none; margin: 16px 0 0; padding: 0; display: grid; gap: 10px; grid-template-columns: repeat(5, minmax(100px,1fr)); }
.skill{ display: grid; gap: 6px; place-items: center; padding: 12px; border-radius: 12px; background: #121826; border: 1px solid #1B2434; }
.skill__icon{ font-weight: 700; color: #F4E1A8; }
.skill__label{ font-size: 12px; color: #C9D3E3; }

/* Works: slightly brighter than hero; hover light from bottom */
.works{ background: linear-gradient(180deg, rgba(22,27,45,.9), rgba(26,33,58,.9)); }
.work-card{ position: relative; overflow: hidden; }
.work-card__thumb img{ width: 100%; height: 100%; object-fit: cover; transition: transform .4s ease-in-out, opacity .4s ease-in-out; }
.work-card::after{
  content: ""; position: absolute; left: 0; right: 0; bottom: -30%; height: 60%; pointer-events: none;
  background: radial-gradient(60% 80% at 50% 100%, rgba(250,211,117,.0) 0%, rgba(250,211,117,.28) 55%, rgba(250,211,117,0) 90%);
  opacity: 0; transform: translateY(20px); transition: opacity .4s ease-in-out, transform .4s ease-in-out;
}
.work-card:hover::after{ opacity: 1; transform: translateY(0); }
.work-card:hover .work-card__thumb img{ transform: scale(1.04); opacity: .98; }

/* Process: dawn gradient (orange -> blue) with luminous timeline */
.process{
  background: linear-gradient(180deg, rgba(255,183,124,.10), rgba(26,40,76,.35));
}
.process__grid::before{ background: linear-gradient(90deg, rgba(255,158,94,.35), rgba(54,92,200,.35)); }
.process-step__num{ background: linear-gradient(135deg, var(--color-gradient-end), #6C8AE6); }

/* Contact: light grey-blue + subtle flowing light */
.contact{
  background:
    linear-gradient(180deg, rgba(232,238,247,.06), rgba(232,238,247,.08)),
    radial-gradient(80% 60% at 50% -10%, rgba(255,255,255,.06), rgba(255,255,255,0) 60%);
}
.contact .container{ position: relative; }
.contact .container::after{
  content: ""; position: absolute; inset: -10% -5% 0 -5%; pointer-events: none;
  /* Soften the warm band into a feathered gradient */
  background: linear-gradient(
    to top,
    rgba(250,211,117,0) 0%,
    rgba(250,211,117,.06) 30%,
    rgba(250,211,117,.14) 50%,
    rgba(250,211,117,.06) 70%,
    rgba(250,211,117,0) 100%
  );
  background-size: 100% 220%;
  background-position: 50% 110%;
  filter: blur(14px);
  opacity: .6;
  mix-blend-mode: screen;
  will-change: filter, background-position;
  animation: dawnSweep 30s ease-in-out infinite;
}

/* Remove the thin section boundary line for Contact to avoid a boxy edge */
/* (reverted) keep default section separator */

/* Additional feathered overlay to dissolve edges further */
/* (reverted) removed feathered overlay */

/* Footer: upward luminous line */
.footer{ background: #0E1017; }
.footer::before{ content: ""; position: absolute; left: 0; right: 0; top: 0; height: 1px; background: linear-gradient(90deg, transparent, rgba(250,211,117,.4), transparent); }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .hero__bg, .contact .container::after{ animation: none; }
}

/* =========================================================
   Dawn Enhancements — Breathing, Upward Light, Subtle Flows
   (very slow, ease-in-out, alternate)
   ========================================================= */

/* Global timing helpers */
:root{
  --dawn-slow: 12s;
  --dawn-slower: 15s;
  --dawn-minute: 60s;
}

/* 1) Hero — sky vertical shift + layered light */
.hero{ position: relative; overflow: hidden; }
.hero__bg{ animation-play-state: paused; }
.hero.is-hero-start .hero__bg{ animation-play-state: running; }

/* additional flowing light layers */
.hero__bg::before,
.hero__bg::after{
  content: ""; position: absolute; inset: 0; pointer-events: none; opacity: 0; transition: opacity .8s ease-in-out; mix-blend-mode: screen;
}
/* Upward warm glow (bottom -> top) */
.hero__bg::before{
  background:
    radial-gradient(60% 50% at 50% 100%, rgba(255,177,112,.0) 0%, rgba(255,177,112,.25) 40%, rgba(255,177,112,0) 85%);
  transform: translateY(16%);
  animation: glowUp var(--dawn-slow) ease-in-out infinite alternate;
}
/* Soft lens flare sweeping horizontally */
.hero__bg::after{
  background:
    linear-gradient(100deg, rgba(250,211,117,0) 0%, rgba(250,211,117,.35) 45%, rgba(255,158,94,.28) 55%, rgba(250,211,117,0) 100%);
  transform: translateX(-30%) rotate(.25deg);
  animation: lensSweep var(--dawn-slower) ease-in-out infinite alternate;
}
.hero.is-hero-flare .hero__bg::before{ opacity: .75; }
.hero.is-hero-flare .hero__bg::after{ opacity: .35; }

@keyframes glowUp{
  from{ transform: translateY(18%); opacity: .45; }
  to  { transform: translateY(-6%); opacity: .75; }
}
@keyframes lensSweep{
  from{ transform: translateX(-36%) rotate(.25deg); }
  to  { transform: translateX(24%) rotate(-.15deg); }
}

/* Hero text sequence (soft fade + 1.02 scale) */
.hero__title, .hero__subtitle, .hero__cta{ will-change: opacity, transform; }
.hero__title{ opacity: 0; transform: translateY(6px) scale(.985); animation: fadeGrow 1.6s ease-in-out .2s both; }
.hero__subtitle{ opacity: 0; transform: translateY(8px) scale(.985); animation: fadeGrow 1.6s ease-in-out .6s both; }
.hero__cta{ opacity: 0; transform: translateY(10px) scale(.985); animation: fadeGrow 1.6s ease-in-out 1s both; }
@keyframes fadeGrow{ from{ opacity: 0; transform: translateY(10px) scale(.985) } to{ opacity: 1; transform: translateY(0) scale(1.02) } }

/* 2) About — diagonal background flow and soft boundary melt */
.about{ position: relative; overflow: hidden; }
.about::after{
  content: ""; position: absolute; inset: -8% -6% -6% -6%; pointer-events: none; mix-blend-mode: screen; opacity: .28;
  background-image:
    linear-gradient(135deg, rgba(255,158,94,.08), rgba(250,211,117,.06), rgba(255,245,231,0));
  background-size: 200% 200%; background-position: 80% 20%;
  animation: aboutBgFlow var(--dawn-slower) ease-in-out infinite alternate;
}
@keyframes aboutBgFlow{ from{ background-position: 80% 20% } to{ background-position: 20% 80% } }

/* Fade section edges softly */
.section{ isolation: isolate; }
.section::before{ opacity: .28; filter: blur(.3px); }

/* 3) Works — gentle gradient drift (1min) + hover sun-gleam */
.works{ background-size: 120% 120%; animation: worksDrift var(--dawn-minute) ease-in-out infinite alternate; }
@keyframes worksDrift{ from{ background-position: 55% 40% } to{ background-position: 45% 60% } }
.work-card{ transition: box-shadow .8s ease-in-out, transform .3s ease-in-out; box-shadow: var(--shadow-1); }
.work-card:hover{ box-shadow: 0 18px 42px rgba(250,211,117,.22), 0 6px 16px rgba(0,0,0,.35); }
.work-card::after{ transition: opacity .6s ease-in-out, transform .6s ease-in-out; }

/* 4) Process — luminous timeline very slow */
.process__grid{ position: relative; }
.process__grid::before{ animation: timelineFlow 40s ease-in-out infinite; background-size: 200% 100%; }
.process-step::before{ opacity: .85; animation: pulseDot 10s ease-in-out infinite alternate; }
@keyframes pulseDot{ from{ box-shadow: 0 0 0 2px rgba(250,211,117,.10) } to{ box-shadow: 0 0 0 6px rgba(250,211,117,.20) } }

/* 5) Contact — button shimmer + background ripple */
.contact{ position: relative; overflow: hidden; }
.contact::before{
  content: ""; position: absolute; inset: -20% -10% -10% -10%; pointer-events: none; mix-blend-mode: screen; opacity: .22;
  background: radial-gradient(60% 50% at 50% 60%, rgba(255,199,143,.18), rgba(255,199,143,0) 70%);
  transform: scale(1); animation: rippleRise var(--dawn-slower) ease-in-out infinite alternate;
}
@keyframes rippleRise{ from{ transform: scale(.985); opacity: .18 } to{ transform: scale(1.035); opacity: .26 } }

.contact .btn.btn--primary::after{ transition: transform .6s ease-in-out; animation: btnShimmer 9s ease-in-out infinite; }
@keyframes btnShimmer{ 0%{ transform: translateX(-120%) skewX(-18deg) } 50%{ transform: translateX(0) skewX(-18deg) } 100%{ transform: translateX(120%) skewX(-18deg) } }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .hero__bg::before, .hero__bg::after, .about::after, .works, .process__grid::before, .contact::before{ animation: none !important; }
  .hero__title, .hero__subtitle, .hero__cta{ animation: none !important; opacity: 1 !important; transform: none !important; }
}
/* Dawn buttons hover override (warm, bright – replaces blue on hover) */
.btn--primary:hover{
  background: linear-gradient(135deg, #FFB07D, #FFE099);
  /* keep text legible; site uses dark background */
  color: #1A1E27;
}

/* =========================================================
   Dawn Theme — Night → Twilight → Morning (Canvas + CSS)
   ========================================================= */

/* Palette handles for interpolation */
:root{
  --dawn-night: #0D1117;
  --dawn-twilight: #3E517A;
  --dawn-morning: #F5CBA7;
}

/* Hero base: night → dawn gradient */
.hero{
  background: linear-gradient(180deg, var(--dawn-night) 10%, var(--dawn-twilight) 45%, var(--dawn-morning) 100%);
}

/* Canvas layer fills the hero background area (lowest layer) */
#sky-canvas{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
  z-index: 0;
  pointer-events: none;
  background: transparent;
}

/* Light & shadow breathing for dawn mood */
@keyframes dawnShift {
  0% { filter: brightness(0.9) hue-rotate(-8deg); }
  50% { filter: brightness(1.1) hue-rotate(8deg); }
  100% { filter: brightness(0.9) hue-rotate(-8deg); }
}
.hero__bg{
  animation: heroFlow 26s linear infinite, heroPulse 18s ease-in-out infinite, dawnShift 28s ease-in-out infinite alternate;
}

/* Conic gradient overlay as subtle light shaft */
.hero__container{ position: relative; z-index: 2; }
.hero__container::before{
  content: "";
  position: absolute;
  inset: -12% -8% -18% -8%;
  background: conic-gradient(from 210deg at 15% -10%, rgba(255,255,255,.06), rgba(139,92,246,.10) 30%, rgba(0,0,0,0) 60%);
  opacity: .55;
  mix-blend-mode: screen;
  pointer-events: none;
  filter: blur(8px);
}

/* Hero title subtle glow */
.hero__title{
  text-shadow: 0 0 12px rgba(255,255,255,.12), 0 0 22px rgba(139,92,246,.32);
}

/* Planet rise (if a DOM element with .planet is used) */
@keyframes planetRise {
  from { transform: translateY(80px) scale(0.9); opacity: 0; }
  to { transform: translateY(0) scale(1); opacity: 1; }
}
.planet{ animation: planetRise 2.5s cubic-bezier(.2,.7,.2,1) .5s both; }

/* Stars fade when dawn starts (for DOM .star overlays, canvas fades via JS) */
.is-dawn .star{ opacity: 0; transition: opacity 2.2s ease-in; }

/* Footer: leave a soft dawn afterglow */
.footer{
  background: linear-gradient(180deg, var(--dawn-night) 0%, var(--dawn-morning) 180%);
}

/* Reduced motion: keep visuals but stop animation, canvas will render static */
@media (prefers-reduced-motion: reduce){
  .hero__bg{ animation: none; filter: none; }
  .hero__container::before{ display: none; }
}

/* =========================================================
   Optional: Static Hero Image Replacement
   - Add class .hero--image to use a single composed image
   - JS sets CSS var --hero-image to the chosen URL
   ========================================================= */
.hero--image .hero__bg{
  /* Reset any previous background layers completely */
  background: none;
  /* Gradient on top (soft-light), image beneath */
  background-image:
    linear-gradient(180deg, rgba(13,17,23,.55) 0%, rgba(62,81,122,.28) 45%, rgba(245,203,167,.18) 100%),
    var(--hero-image, none);
  background-size: auto, cover;
  /* emphasize upper-right where the planet resides */
  background-position: center, 70% 0%;
  background-repeat: no-repeat;
  background-blend-mode: soft-light, normal;
  animation: none !important;
  filter: none !important;
}
.hero--image #sky-canvas{ display: none !important; }
/* Remove extra FX layers that may wash out the image */
.hero--image .hero__bg::before,
.hero--image .hero__bg::after{ content: none !important; display: none !important; }
.hero--image .hero__container::before{ display: none !important; }
@media (max-width: 820px){
  .hero--image .hero__bg{ background-position: center, 75% 5%; }
}

/* =========================================================
   Under-Hero Cosmos (global backdrop for About→Footer)
   - Soft twilight base
   - Starfield (2 layers) with gentle drift
   - Moving aurora sheets
   - Fades in below the Hero so boundaries melt
   ========================================================= */
:root{
  --cosmos-night: #0C111B;
  --cosmos-mid:   #101827;
  --cosmos-dawn:  #142033;
  --aurora-cyan:   rgba(54,226,220,.20);
  --aurora-violet: rgba(139,92,246,.18);
  /* Where the under-sky starts to appear (fades in below Hero) */
  --under-fade-start: clamp(420px, 46vh, 640px);
  --under-fade-end:   calc(var(--under-fade-start) + 180px);
}

body{ position: relative; }
/* Starfield + twilight base */
body::before{
  content: "";
  position: fixed; inset: 0; z-index: -3; pointer-events: none;
  /* Base twilight gradient only (stars are drawn on a canvas for randomness) */
  background-image: linear-gradient(180deg, var(--cosmos-night) 0%, var(--cosmos-mid) 48%, var(--cosmos-dawn) 100%);
  background-size: 100% 100%;
  background-position: 0 0;
  background-repeat: no-repeat;
  -webkit-mask-image: linear-gradient(180deg, transparent 0 var(--under-fade-start), #000 var(--under-fade-end) 100%);
  mask-image: linear-gradient(180deg, transparent 0 var(--under-fade-start), #000 var(--under-fade-end) 100%);
}

/* Fixed canvas for truly random stars + meteors */
#under-sky-canvas{
  position: fixed; inset: 0; z-index: -2; pointer-events: none; display: block;
  opacity: .96; background: transparent; transform: translateZ(0); /* promote */
  -webkit-mask-image: linear-gradient(180deg, transparent 0 var(--under-fade-start), #000 var(--under-fade-end) 100%);
  mask-image: linear-gradient(180deg, transparent 0 var(--under-fade-start), #000 var(--under-fade-end) 100%);
}

/* Aurora sheets (soft, moving light) */
body::after{
  content: "";
  position: fixed; inset: 0; z-index: -1; pointer-events: none; filter: blur(26px);
  background-image:
    radial-gradient(65% 50% at 18% 12%, var(--aurora-cyan), transparent 62%),
    radial-gradient(60% 45% at 82% 22%, var(--aurora-violet), transparent 62%),
    conic-gradient(from 200deg at 50% -10%, rgba(255,255,255,.05), rgba(255,255,255,0) 60%);
  background-repeat: no-repeat, no-repeat, no-repeat;
  background-size: 140% 120%, 140% 120%, 120% 50%;
  background-position: -14% -8%, 110% -2%, 50% -6%;
  mix-blend-mode: screen;
  opacity: .55;
  animation: auroraSlide 44s ease-in-out infinite alternate;
  -webkit-mask-image: linear-gradient(180deg, transparent 0 var(--under-fade-start), #000 var(--under-fade-end) 100%);
  mask-image: linear-gradient(180deg, transparent 0 var(--under-fade-start), #000 var(--under-fade-end) 100%);
}
@keyframes auroraSlide{
  0%   { background-position: -16% -10%, 110% -4%, 50% -10%; opacity: .48; }
  50%  { background-position:  -6%  -2%,  98%  2%, 52%  -4%; opacity: .62; }
  100% { background-position:   0%   4%,  90%  6%, 50%   2%; opacity: .54; }
}

/* Section surfaces: melt boundaries and let cosmos show through */
.about, .works, .process, .contact, .footer{ background: transparent !important; }
.section::before{ opacity: .12; background: linear-gradient(90deg, transparent, rgba(255,255,255,.16), transparent) !important; }

/* Remove previous per-section aurora overlays to avoid double layers */
.services::after, .works::after, .process::after, .contact::after{ content: none !important; display: none !important; }

/* Keep cards readable over the darker cosmic base */
.service-card, .work-card, .process-step, .modal__content{
  background: var(--color-panel);
  border: 1px solid var(--color-border);
}

/* Footer line softened for the new palette */
.footer{ border-top: 1px solid rgba(255,255,255,.06) !important; }
.footer::before{ opacity: .18 !important; background: linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent) !important; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  body::after{ animation: none !important; }
}
